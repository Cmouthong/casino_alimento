<div class="empresa-container">
  <!-- Título -->
  <header class="header">
    <h1>Gestión de Empresas</h1>
    <p>Registra y administra las empresas asociadas al sistema.</p>
  </header>

  <!-- Formulario -->
  <section class="formulario-empresa">
    <h2>{{ editando ? 'Editar Empresa' : 'Registrar Empresa' }}</h2>
    <form (ngSubmit)="registrarEmpresa()">
      <div>
        <label for="nit">NIT:</label>
        <input
          type="text"
          id="nit"
          [(ngModel)]="nuevaEmpresa.nit"
          name="nit"
          placeholder="Ingrese el NIT"
          [readonly]="editando"
          required
        />
      </div>

      <div>
        <label for="nombre">Nombre:</label>
        <input
          type="text"
          id="nombre"
          [(ngModel)]="nuevaEmpresa.nombre"
          name="nombre"
          placeholder="Ingrese el nombre"
          required
        />
      </div>

      <div>
        <label for="direccion">Dirección:</label>
        <input
          type="text"
          id="direccion"
          [(ngModel)]="nuevaEmpresa.direccion"
          name="direccion"
          placeholder="Ingrese la dirección"
          required
        />
      </div>

      <div>
        <label for="telefono">Teléfono:</label>
        <input
          type="text"
          id="telefono"
          [(ngModel)]="nuevaEmpresa.telefono"
          name="telefono"
          placeholder="Ingrese el teléfono"
          required
        />
      </div>

      <div>
        <label for="contacto">Contacto:</label>
        <input
          type="text"
          id="contacto"
          [(ngModel)]="nuevaEmpresa.contacto"
          name="contacto"
          placeholder="Ingrese el contacto"
          required
        />
      </div>

      <button type="submit" class="btn-registrar">
        {{ editando ? 'Guardar Cambios' : 'Registrar Empresa' }}
      </button>
      <button
        *ngIf="editando"
        type="button"
        class="btn-cancelar"
        (click)="resetFormulario()"
      >
        Cancelar
      </button>
    </form>
  </section>

  <!-- Tabla -->
  <section class="table-section">
    <h2>Lista de Empresas</h2>
    <table>
      <thead>
        <tr>
          <th>NIT</th>
          <th>Nombre</th>
          <th>Dirección</th>
          <th>Teléfono</th>
          <th>Contacto</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let empresa of empresas">
          <td>{{ empresa.nit }}</td>
          <td>{{ empresa.nombre }}</td>
          <td>{{ empresa.direccion }}</td>
          <td>{{ empresa.telefono }}</td>
          <td>{{ empresa.contacto }}</td>
          <td>
            <button class="btn-primary" (click)="cargarEmpresa(empresa)">Editar</button>
            <button class="btn-danger" (click)="eliminarEmpresa(empresa.nit)">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </section>
</div>